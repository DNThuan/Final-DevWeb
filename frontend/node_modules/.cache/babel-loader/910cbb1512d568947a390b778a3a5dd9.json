{"ast":null,"code":"// import {\n//     allProductRequest,\n//     allProductSuccess, \n//     allProductFailure,\n//     clearError\n// } from '../Slice/productsSlice'\nimport { publicRequest } from '../requestMethods';\nimport { productSlide, productsSlide } from '../Slice/productsSlice'; //get all products\n\nexport const getProduct = function () {\n  let keyword = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n  let currentPage = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n  let price = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [0, 10000000];\n  let category = arguments.length > 3 ? arguments[3] : undefined;\n  return async dispatch => {\n    try {\n      dispatch(productsSlide.actions.allProductRequest);\n      let link = `/products?keyword=${keyword}&page=${currentPage}&price[gte]=${price[0]}&price[lte]=${price[1]}`; // if (category) {\n      //     link = `/api/v1/products?keyword=${keyword}&page=${currentPage}&price[gte]=${price[0]}&price[lte]=${price[1]}&category=${category}`;\n      // }\n\n      const {\n        data\n      } = await publicRequest.get(link);\n      dispatch(productsSlide.actions.allProductSuccess(data.products));\n    } catch (err) {\n      dispatch(productsSlide.actions.allProductFailure(err.response.data.message));\n    }\n  };\n}; //get  product detail\n\nexport const getProductDetail = id => async dispatch => {\n  try {\n    dispatch(productSlide.actions.productDetailRequest());\n    const {\n      data\n    } = await publicRequest.get(`product/:${id}`);\n    dispatch(productSlide.actions.productDetailSuccess(data.product));\n  } catch (err) {\n    dispatch(productSlide.actions.productDetailFailure(err.response.data.message));\n  }\n}; // export const clearErr = () => async (dispatch)=>{\n//     dispatch(clearError())\n// }","map":{"version":3,"names":["publicRequest","productSlide","productsSlide","getProduct","keyword","currentPage","price","category","dispatch","actions","allProductRequest","link","data","get","allProductSuccess","products","err","allProductFailure","response","message","getProductDetail","id","productDetailRequest","productDetailSuccess","product","productDetailFailure"],"sources":["C:/Users/thuan/Desktop/watchshop/frontend/src/redux/callAPI/productCall.js"],"sourcesContent":["// import {\r\n//     allProductRequest,\r\n//     allProductSuccess, \r\n//     allProductFailure,\r\n//     clearError\r\n// } from '../Slice/productsSlice'\r\nimport {publicRequest} from '../requestMethods'\r\nimport {\r\n   productSlide,productsSlide\r\n} from '../Slice/productsSlice'\r\n\r\n//get all products\r\nexport const getProduct = (keyword = \"\", currentPage = 1, price = [0, 10000000], category) => async (dispatch) => {\r\n    try{\r\n        dispatch(productsSlide.actions.allProductRequest);\r\n\r\n        let link = `/products?keyword=${keyword}&page=${currentPage}&price[gte]=${price[0]}&price[lte]=${price[1]}`;\r\n\r\n        // if (category) {\r\n        //     link = `/api/v1/products?keyword=${keyword}&page=${currentPage}&price[gte]=${price[0]}&price[lte]=${price[1]}&category=${category}`;\r\n        // }\r\n\r\n        const { data } = await publicRequest.get(link);\r\n        \r\n        dispatch(productsSlide.actions.allProductSuccess(data.products));\r\n    }catch(err){\r\n        dispatch(productsSlide.actions.allProductFailure(err.response.data.message));\r\n    }\r\n}\r\n\r\n\r\n//get  product detail\r\nexport const getProductDetail = (id) => async(dispatch) =>{\r\n    try{\r\n        dispatch(productSlide.actions.productDetailRequest());\r\n\r\n        const { data } = await publicRequest.get(\r\n            `product/:${id}`\r\n        );\r\n        \r\n        dispatch(productSlide.actions.productDetailSuccess(data.product));\r\n    }catch(err){\r\n        dispatch(productSlide.actions.productDetailFailure(err.response.data.message));\r\n    }   \r\n}\r\n\r\n// export const clearErr = () => async (dispatch)=>{\r\n//     dispatch(clearError())\r\n// }"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQA,aAAR,QAA4B,mBAA5B;AACA,SACGC,YADH,EACgBC,aADhB,QAEO,wBAFP,C,CAIA;;AACA,OAAO,MAAMC,UAAU,GAAG;EAAA,IAACC,OAAD,uEAAW,EAAX;EAAA,IAAeC,WAAf,uEAA6B,CAA7B;EAAA,IAAgCC,KAAhC,uEAAwC,CAAC,CAAD,EAAI,QAAJ,CAAxC;EAAA,IAAuDC,QAAvD;EAAA,OAAoE,MAAOC,QAAP,IAAoB;IAC9G,IAAG;MACCA,QAAQ,CAACN,aAAa,CAACO,OAAd,CAAsBC,iBAAvB,CAAR;MAEA,IAAIC,IAAI,GAAI,qBAAoBP,OAAQ,SAAQC,WAAY,eAAcC,KAAK,CAAC,CAAD,CAAI,eAAcA,KAAK,CAAC,CAAD,CAAI,EAA1G,CAHD,CAKC;MACA;MACA;;MAEA,MAAM;QAAEM;MAAF,IAAW,MAAMZ,aAAa,CAACa,GAAd,CAAkBF,IAAlB,CAAvB;MAEAH,QAAQ,CAACN,aAAa,CAACO,OAAd,CAAsBK,iBAAtB,CAAwCF,IAAI,CAACG,QAA7C,CAAD,CAAR;IACH,CAZD,CAYC,OAAMC,GAAN,EAAU;MACPR,QAAQ,CAACN,aAAa,CAACO,OAAd,CAAsBQ,iBAAtB,CAAwCD,GAAG,CAACE,QAAJ,CAAaN,IAAb,CAAkBO,OAA1D,CAAD,CAAR;IACH;EACJ,CAhByB;AAAA,CAAnB,C,CAmBP;;AACA,OAAO,MAAMC,gBAAgB,GAAIC,EAAD,IAAQ,MAAMb,QAAN,IAAkB;EACtD,IAAG;IACCA,QAAQ,CAACP,YAAY,CAACQ,OAAb,CAAqBa,oBAArB,EAAD,CAAR;IAEA,MAAM;MAAEV;IAAF,IAAW,MAAMZ,aAAa,CAACa,GAAd,CAClB,YAAWQ,EAAG,EADI,CAAvB;IAIAb,QAAQ,CAACP,YAAY,CAACQ,OAAb,CAAqBc,oBAArB,CAA0CX,IAAI,CAACY,OAA/C,CAAD,CAAR;EACH,CARD,CAQC,OAAMR,GAAN,EAAU;IACPR,QAAQ,CAACP,YAAY,CAACQ,OAAb,CAAqBgB,oBAArB,CAA0CT,GAAG,CAACE,QAAJ,CAAaN,IAAb,CAAkBO,OAA5D,CAAD,CAAR;EACH;AACJ,CAZM,C,CAcP;AACA;AACA"},"metadata":{},"sourceType":"module"}