{"ast":null,"code":"import { loginSlice, registerSlice } from '../Slice/userSlice';\nimport { publicRequest } from '../requestMethods';\nimport { createAsyncThunk } from '@reduxjs/toolkit';\nexport const login = createAsyncThunk(\"user/login\", async (email, password) => {\n  try {\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    };\n    const {\n      data\n    } = await publicRequest.post(`/login`, {\n      email,\n      password\n    }, config);\n    return data.user.name;\n  } catch (err) {\n    return err.response.data.message;\n  }\n}); // export const login = (email, password) => async (dispatch) => {\n//     try{\n//         dispatch(loginSlice.actions.loginRequest);\n//         const config = { headers: { \"Content-Type\": \"application/json\" } }; \n//         const {data} = await publicRequest.post(\n//             `/login`,\n//             {email, password},\n//             config,\n//         )\n//         dispatch(loginSlice.actions.loginSuccess(data.user));\n//     }catch(err){\n//         dispatch(loginSlice.actions.loginFailure(err.response.data.message));\n//     }\n// }\n\nexport const register = (name, email, password) => async dispatch => {\n  try {\n    dispatch(registerSlice.actions.registerRequest());\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    };\n    const {\n      data\n    } = await publicRequest.post(`/register`, {\n      name,\n      email,\n      password\n    }, config);\n    dispatch(registerSlice.actions.registerSuccess(data.user));\n  } catch (err) {\n    dispatch(registerSlice.actions.registerFailure(err.response.data.message));\n  }\n};","map":{"version":3,"names":["loginSlice","registerSlice","publicRequest","createAsyncThunk","login","email","password","config","headers","data","post","user","name","err","response","message","register","dispatch","actions","registerRequest","registerSuccess","registerFailure"],"sources":["C:/Users/thuan/Desktop/watchshop/frontend/src/redux/callAPI/userCall.js"],"sourcesContent":["import {\r\n    loginSlice,\r\n    registerSlice\r\n} from '../Slice/userSlice'\r\nimport {publicRequest} from '../requestMethods'\r\n\r\nimport { createAsyncThunk } from '@reduxjs/toolkit';\r\n\r\nexport const login = createAsyncThunk (\r\n    \"user/login\",\r\n    async (email, password)=> {\r\n        try{\r\n            const config = { headers: { \"Content-Type\": \"application/json\" } }; \r\n            const {data} = await publicRequest.post(\r\n                `/login`,\r\n                {email, password},\r\n                config,\r\n            )\r\n            return data.user.name\r\n        }catch(err){\r\n            return err.response.data.message;\r\n        }\r\n       \r\n    }\r\n)\r\n\r\n// export const login = (email, password) => async (dispatch) => {\r\n//     try{\r\n//         dispatch(loginSlice.actions.loginRequest);\r\n\r\n//         const config = { headers: { \"Content-Type\": \"application/json\" } }; \r\n\r\n//         const {data} = await publicRequest.post(\r\n//             `/login`,\r\n//             {email, password},\r\n//             config,\r\n//         )\r\n//         dispatch(loginSlice.actions.loginSuccess(data.user));\r\n//     }catch(err){\r\n//         dispatch(loginSlice.actions.loginFailure(err.response.data.message));\r\n//     }\r\n// }\r\n\r\nexport const register = (name,email,password) => async (dispatch) => {\r\n    try{\r\n        dispatch(registerSlice.actions.registerRequest());\r\n        const config =  { headers: { \"Content-Type\": \"application/json\" } }; \r\n\r\n        const { data } = await publicRequest.post(\r\n            `/register`, \r\n            {name,email,password}, \r\n            config\r\n        );\r\n        dispatch(registerSlice.actions.registerSuccess(data.user))\r\n    }catch(err){    \r\n        dispatch(registerSlice.actions.registerFailure(err.response.data.message))\r\n    }\r\n}\r\n\r\n"],"mappings":"AAAA,SACIA,UADJ,EAEIC,aAFJ,QAGO,oBAHP;AAIA,SAAQC,aAAR,QAA4B,mBAA5B;AAEA,SAASC,gBAAT,QAAiC,kBAAjC;AAEA,OAAO,MAAMC,KAAK,GAAGD,gBAAgB,CACjC,YADiC,EAEjC,OAAOE,KAAP,EAAcC,QAAd,KAA0B;EACtB,IAAG;IACC,MAAMC,MAAM,GAAG;MAAEC,OAAO,EAAE;QAAE,gBAAgB;MAAlB;IAAX,CAAf;IACA,MAAM;MAACC;IAAD,IAAS,MAAMP,aAAa,CAACQ,IAAd,CAChB,QADgB,EAEjB;MAACL,KAAD;MAAQC;IAAR,CAFiB,EAGjBC,MAHiB,CAArB;IAKA,OAAOE,IAAI,CAACE,IAAL,CAAUC,IAAjB;EACH,CARD,CAQC,OAAMC,GAAN,EAAU;IACP,OAAOA,GAAG,CAACC,QAAJ,CAAaL,IAAb,CAAkBM,OAAzB;EACH;AAEJ,CAfgC,CAA9B,C,CAkBP;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,MAAMC,QAAQ,GAAG,CAACJ,IAAD,EAAMP,KAAN,EAAYC,QAAZ,KAAyB,MAAOW,QAAP,IAAoB;EACjE,IAAG;IACCA,QAAQ,CAAChB,aAAa,CAACiB,OAAd,CAAsBC,eAAtB,EAAD,CAAR;IACA,MAAMZ,MAAM,GAAI;MAAEC,OAAO,EAAE;QAAE,gBAAgB;MAAlB;IAAX,CAAhB;IAEA,MAAM;MAAEC;IAAF,IAAW,MAAMP,aAAa,CAACQ,IAAd,CAClB,WADkB,EAEnB;MAACE,IAAD;MAAMP,KAAN;MAAYC;IAAZ,CAFmB,EAGnBC,MAHmB,CAAvB;IAKAU,QAAQ,CAAChB,aAAa,CAACiB,OAAd,CAAsBE,eAAtB,CAAsCX,IAAI,CAACE,IAA3C,CAAD,CAAR;EACH,CAVD,CAUC,OAAME,GAAN,EAAU;IACPI,QAAQ,CAAChB,aAAa,CAACiB,OAAd,CAAsBG,eAAtB,CAAsCR,GAAG,CAACC,QAAJ,CAAaL,IAAb,CAAkBM,OAAxD,CAAD,CAAR;EACH;AACJ,CAdM"},"metadata":{},"sourceType":"module"}